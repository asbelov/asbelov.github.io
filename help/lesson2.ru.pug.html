<!--Copyright © 2020. Alexander Belov. Contacts: <asbel@alepiz.com>
Created on 2020-5-19 17:00:12--><!DOCTYPE html><html lang="ru" xml:lang="ru" xmlns="http://www.w3.org/1999/xhtml"><head><title>#2 Создание задачи для автоматизации</title><link rel="stylesheet" href="../materialize-css/dist/css/materialize.css"><link rel="stylesheet" href="../material-design-icons/material-icons.css"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta name="author" content="Alexander Belov &amp;lt;asbel@alepiz.com&amp;gt"><script src="../materialize-css/dist/js/materialize.js"></script><script src="../javascripts/help.js"></script></head><body><header><div class="row"><div class="col s12 m10 offset-m1"><h1>Пример создания задачи</h1></div></div></header><main><div class="row"><div class="col s12 m10 offset-m1"><h2>Добавление действий в задачу</h2><p>Попробуем сделать задачу, которая будет создавать новый объект - новый хост и добавлять ему в качестве
свойства - имя хоста. Задачи в дальнейшем можно будет использовать для автоматизации
обнаружения хостов в сети.
Для этого необходимо заполнить параметры действия Configuration\Objects creator как на скриншоте
и нажать на кнопку сохранения действия
<a class="btn-small btn-floating waves-effect waves-light yellow darken-2"><i class="material-icons">playlist_add</i></a></p><img class="materialboxed card-panel hoverable" src="images/help.taskSaveAction1.png" width="1024"><p>В качестве параметров в действии будем использовать переменные, которые определим при
формировании счетчиков, для обнаружения хостов в сети</p><p>Далее выбираем действие Configuration\Objects properties, заполняем его параметры и
нажимаем на кнопку сохранения действия
<a class="btn-small btn-floating waves-effect waves-light yellow darken-2"><i class="material-icons">playlist_add</i></a></p><img class="materialboxed card-panel hoverable" src="images/help.taskSaveAction2.png" width="1024"><p>Некоторые параметры действий в процессе их сохранения невозможно установить так, чтобы они
подходили для выполнения задачи. Но их можно будет исправить в процессе редактирования задачи.
В нашем примере это параметр из элемента Object list: ALEPIZ. Вместо него должен быть
результат выполнения предыдущего действия Objects creator: идентификатор
созданного объекта.
</p><h2>Редактирование задачи</h2><p>Открываем действие Configuration\Task Maker и видим действия, которые мы добавили в новую безымянную задачу:</p><img class="materialboxed card-panel hoverable" src="images/help.taskNewTask.png" width="1024"><p>Перетаскиваем мышкой задачи, чтобы расположить их в правильной последовательности: сначала создание
объекта, затем добавление свойства объекту:</p><img class="materialboxed card-panel hoverable" src="images/help.taskNewOrderedTask.png" width="1024"><p>Редактируем действие Object Properties и заменяем объект ALEPIZ на
системную переменную %:PREV_ACTION_RESULT:%, значение которой будет равно идентификатору
объекта, созданного предыдущим действием Objects creator. Для этого необходимо нажать на
действие Object properties. Откроется форма редактирования параметров действия. Далее
в поле Edited objects необходимо нажать на REMOVE ALL OBJECTS и удалить объект ALEPIZ.
Посте этого нажать на ADD VARIABLE, ввести имя переменной PREV_ACTION_RESULT и нажать на
кнопку "+"</p><img class="materialboxed card-panel hoverable" src="images/help.taskNewEditedActionInTask.png" width="1024"><p>Заполняем Task name - "Create a new server", выбираем Group to task - "Discovery tasks"
(если нужной группы не существует, можно создать ее с помощью действия
Configuration\Tasks groups editor)
и нажимаем на кнопку запуска действия (красного цвета),
для того, чтобы сохранить изменения:</p><img class="materialboxed card-panel hoverable" src="images/help.taskSaveEditedTask.png" width="1024"><p>Задача пропадет из списка, потому что выбрана группа Default group. Используя Select task
group, выбираем группу Discovery tasks и видим созданную нами задачу:</p><img class="materialboxed card-panel hoverable" src="images/help.taskNewSavedTask.png" width="1024"></div></div></main></body></html>